[Proxy]
Mike = snell, 158.101.46.207, 56781, psk=gqzTrAd2lVNsKdEs9wXmo5oldJIGHSk, obfs=http

[Proxy Group]
Switch = select, Proxy, ğŸ Trojan, ğŸ§¦Dogess, update-interval=604800, url=http://www.gstatic.com/generate_204
ğŸApple = select, Direct, Proxy, ğŸ‡ºğŸ‡¸US, ğŸ‡­ğŸ‡°HK, ğŸ‡¯ğŸ‡µJP
ğŸ“¼Netflix = select, ğŸ‡ºğŸ‡¸US, ğŸ‡­ğŸ‡°HK, ğŸ‡¯ğŸ‡µJP
All = select, include-all-proxies=true, include-other-group="ğŸ Trojan,ğŸ§¦Dogess", update-interval=604800, url=http://www.gstatic.com/generate_204, no-alert=0, hidden=1
ğŸ‡ºğŸ‡¸US = select, include-all-proxies=true, include-other-group="ğŸ Trojan,ğŸ§¦Dogess", policy-regex-filter=UnitedStates|US|ç¾å›½, hidden=1
ğŸ‡­ğŸ‡°HK = select, include-all-proxies=true, include-other-group="ğŸ Trojan,ğŸ§¦Dogess", policy-regex-filter=HK|é¦™æ¸¯, hidden=1
ğŸ‡¯ğŸ‡µJP = select, include-all-proxies=true, include-other-group="ğŸ Trojan,ğŸ§¦Dogess", policy-regex-filter=JP|æ—¥æœ¬, hidden=1
ğŸ Trojan = url-test, policy-path=https://raw.githubusercontent.com/leonmax/rules/master/proxy/shadowsocks.nz.list, no-alert=0
ğŸ§¦Dogess = url-test, policy-path=https://ds-sub.me/link/Lusxqu8XaTTTe7o6?list=surge, no-alert=0

[Rule]
# Extra ğŸ‡ºğŸ‡¸US sites
PROCESS-NAME,AMPLibraryAgent,ğŸApple
PROCESS-NAME,AMPArtworkAgent,ğŸApple
PROCESS-NAME,itunescloudd,ğŸApple
PROCESS-NAME,Music,ğŸApple

RULE-SET,https://raw.githubusercontent.com/leonmax/rules/master/ruleset/us.ruleset,ğŸ‡ºğŸ‡¸US

# Netflix
USER-AGENT,Argo*,ğŸ“¼Netflix
DOMAIN-KEYWORD,netflix,ğŸ“¼Netflix
DOMAIN-KEYWORD,nflx,ğŸ“¼Netflix
RULE-SET,https://raw.githubusercontent.com/Blankwonder/surge-list/master/netflix.list,ğŸ“¼Netflix

# block ad
RULE-SET,https://raw.githubusercontent.com/leonmax/rules/master/ruleset/ads.ruleset,REJECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Custom/ad-domains.list,REJECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Basic/common-ad-keyword.list,REJECT

# cn sites
RULE-SET,https://raw.githubusercontent.com/leonmax/rules/master/ruleset/cn.ruleset,DIRECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Basic/CN.list,DIRECT

# Apple Services
RULE-SET,SYSTEM,DIRECT
IP-CIDR,17.0.0.0/8,DIRECT,no-resolve

# effing gfw
DOMAIN-SUFFIX,coscene.io,Switch
DOMAIN-SUFFIX,coscene.dev,Switch
RULE-SET,https://raw.githubusercontent.com/leonmax/rules/master/ruleset/gfw.ruleset,Switch
RULE-SET,https://raw.githubusercontent.com/leonmax/rules/master/ruleset/force-remote-dns.ruleset,Switch
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Basic/foreign.list,Switch
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Surge/Basic/Apple-News.list,ğŸ‡ºğŸ‡¸US
